#!/bin/sh


#NUM_TASK=9 for Task-IL
#NUM_TASK=5 for Class-IL


NUM_TASK=9
SCENARIO=task
DATASET=drebin
GPU_NUMBER=1




now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START None ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET}  --tasks=${NUM_TASK} --replay=none --metrics --logger_file none --scenario=${SCENARIO} 
done
echo All done

  
 
now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START offline ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET}  --tasks=${NUM_TASK} --replay=offline --metrics --logger_file offline --scenario=${SCENARIO}
done
echo All done



now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START EWC ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET} --tasks=${NUM_TASK} --ewc --lambda=5000 --metrics --logger_file ewc --scenario=${SCENARIO} 
done
echo All done


now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START EWC Online ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET} --tasks=${NUM_TASK} --ewc --online --lambda=5000 --gamma=1 --metrics --logger_file ewc_online --scenario=${SCENARIO}
done
echo All done


now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START SI ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET} --tasks=${NUM_TASK} --si --c=0.1 --metrics --logger_file si --scenario=${SCENARIO} 
done
echo All done


now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START LwF ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET} --tasks=${NUM_TASK} --replay=current --distill --metrics --logger_file lwf --scenario=${SCENARIO} 
done
echo All done



now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START GR ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET} --tasks=${NUM_TASK} --replay=generative --metrics --logger_file gr --scenario=${SCENARIO}
done
echo All done


now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START GR+Distill ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET}  --tasks=${NUM_TASK} --replay=generative --distill --metrics --logger_file gr_distill --scenario=${SCENARIO} 
done
echo All done



now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START RtF ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET} --tasks=${NUM_TASK} --replay=generative --distill --feedback --metrics --logger_file rtf --scenario=${SCENARIO}
done
echo All done



now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START ER ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET}  --tasks=${NUM_TASK} --replay=exemplars --budget=2000 --metrics --logger_file experience_replay --scenario=${SCENARIO} 
done
echo All done



now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START A-GEM ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET} --tasks=${NUM_TASK} --replay=exemplars --agem --budget=2000 --metrics --logger_file agem --scenario=${SCENARIO}
done
echo All done


now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START icarl ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET} --tasks=${NUM_TASK} --icarl --budget=2000 --metrics --logger_file icarl --scenario=${SCENARIO} 
done
echo All done





