
#!/bin/bash

NUM_TASK=11
SCENARIO=class
DATASET=ember
GPU_NUMBER=3

CUDA_VISIBLE_DEVICES=1 python main.py --data_set=drebin --tasks=9 --replay=none --metrics --logger_file collas-test --scenario=task


now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START A-GEM ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET} --tasks=${NUM_TASK} --replay=exemplars --agem --budget=2000 --metrics --logger_file agem --scenario=${SCENARIO}
done
echo All done


now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START offline ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET} --tasks=${NUM_TASK} --replay=offline --metrics --logger_file offline --scenario=${SCENARIO}
done
echo All done

now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START GR ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET} --tasks=${NUM_TASK} --replay=generative --metrics --logger_file gr --scenario=${SCENARIO}
done
echo All done

now="$(date)"
printf "Current date and time %s\n" "$now"
echo $'############ START GR + Distill ############'
counter=1
while [ $counter -le 10 ]
do
echo start w/ run $counter 
((counter++))
CUDA_VISIBLE_DEVICES=${GPU_NUMBER} python main.py --data_set=${DATASET} --tasks=${NUM_TASK} --replay=generative --distill --metrics --logger_file gr_distill --scenario=${SCENARIO} 
done
echo All done





